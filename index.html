<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>‡§∞‡§æ‡§ß‡•á Counter</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        h1 {
            font-size: 40px;
            color: green;
        }
        button {
            padding: 10px 20px;
            font-size: 18px;
            margin: 10px;
            cursor: pointer;
        }
        ul {
            margin-top: 30px;
            font-size: 20px;
            list-style-type: none;
            padding: 0;
        }
        li {
            margin: 5px 0;
        }
    </style>
</head>
<body>

    <h1>‡§∞‡§æ‡§ß‡•á Count: <span id="countDisplay">0</span></h1>
    <button id="startBtn">üé§ Start Listening</button>
    <button id="stopBtn">‚èπ Stop</button>

    <h2>üìã To-List</h2>
    <ul id="toList"></ul>

    <script>
    let count = 0;

    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    if (!SpeechRecognition) {
        alert("Your browser does not support Speech Recognition.");
    }
    const recognition = new SpeechRecognition();
    recognition.lang = "hi-IN";
    recognition.continuous = true;
    recognition.interimResults = false;

    document.getElementById("startBtn").onclick = () => {
        count = 0;
        document.getElementById("countDisplay").textContent = count;
        recognition.start();
        console.log("Listening for '‡§∞‡§æ‡§ß‡•á'...");
    };

    document.getElementById("stopBtn").onclick = () => {
        recognition.stop();
        // count ‡§ï‡•ã list ‡§Æ‡•á‡§Ç add ‡§ï‡§∞‡•ã
        const li = document.createElement("li");
        li.textContent = "‡§∞‡§æ‡§ß‡•á ‡§ï‡•É‡§∑‡•ç‡§£‡§æ count: " + count;
        document.getElementById("toList").appendChild(li);
    };

    recognition.onresult = function(event) {
        const transcript = event.results[event.results.length - 1][0].transcript.trim();
        console.log("Heard:", transcript);

        // ‡§Ö‡§ó‡§∞ '‡§∞‡§æ‡§ß‡•á' ‡§ï‡§π‡•Ä‡§Ç ‡§≠‡•Ä ‡§∏‡•Å‡§®‡§æ ‡§ú‡§æ‡§è ‡§§‡•ã count ‡§¨‡§¢‡§º‡§æ‡§ì
        if (transcript.includes("‡§∞‡§æ‡§ß‡•á")) {
            // ‡§ï‡§ø‡§§‡§®‡•Ä ‡§¨‡§æ‡§∞ '‡§∞‡§æ‡§ß‡•á' ‡§Ü‡§Ø‡§æ ‡§π‡•à transcript ‡§Æ‡•á‡§Ç
            let matches = transcript.match(/‡§∞‡§æ‡§ß‡•á/g);
            if (matches) {
                count += matches.length;
                document.getElementById("countDisplay").textContent = count;
            }
        }
    };

    recognition.onerror = function(event) {
        console.error("Error:", event.error);
    };
    </script>

</body>
</html>
